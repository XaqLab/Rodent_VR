21:39$ python dome_calibration.py test_images/WebCameras/Image40.jpg
Image pixels: [[500, 540], [500, 740]]
Photo pixels: [[161, 940], [172, 296]]


  status: 0
 success: True
    nfev: 209
     fun: -1.9999582472747441
       x: array([ 0.80260675,  0.0090861 ,  0.12829316,  0.05863882,  0.29177539,
        0.15040214,  0.31606133,  0.61748089,  0.03637347,  0.58885823])
 message: 'CONVERGENCE: REL_REDUCTION_OF_F_<=_FACTR*EPSMCH'
     jac: array([ -5.99520433e-06,  -5.95967720e-05,   1.02584607e-05,
         1.43618450e-04,  -4.42978987e-05,   9.72555370e-06,
         5.81756865e-06,   1.16129328e-05,  -4.88498131e-07,
        -1.47437618e-05])
     nit: 15
[-0.047292889291605203, 0.436, 0.11184331889497273]
[0.047292889291605203, 0.436, 0.11184331889497273]
[0.047292889291605203, 0.436, 0.058638818441916887]
[-0.047292889291605203, 0.436, 0.058638818441916887]
[-0.069352177604485116, 0.265, 0.15977338003529756]
[0.069352177604485116, 0.265, 0.15977338003529756]
[0.069352177604485116, 0.265, 0.081752180230251797]
[-0.069352177604485116, 0.265, 0.081752180230251797]
Mirror radius: 0.291775388598
Dome y-coordinate: 0.150402141833
Dome z-coordinate: 0.316061329385
Dome radius: 0.617480892345
Animal y-coordinate: 0.0363734721922
Animal z-coordinate: 0.58885823092
Webcam theta: 0.2
screen_height, screen_width, distance_to_screen
0.684146369842 1.21626021305 3.0


  status: 0
 success: True
    nfev: 209
     fun: -1.9999055392357086
       x: array([ 0.81115301,  0.01365855,  0.15639206,  0.05032227,  0.26245844,
        0.14582637,  0.31401118,  0.61240788,  0.04560849,  0.59621632])
 message: 'CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_<=_PGTOL'
     jac: array([ -1.33226763e-07,   1.68753900e-06,  -1.11022302e-06,
         4.21884749e-07,   2.13162821e-06,  -5.99520433e-07,
        -1.55431223e-07,   1.33226763e-07,   3.10862447e-07,
         8.88178420e-08])
     nit: 15
[-0.059154010474377412, 0.436, 0.11687053423553245]
[0.059154010474377412, 0.436, 0.11687053423553245]
[0.059154010474377412, 0.436, 0.050322272451857851]
[-0.059154010474377412, 0.436, 0.050322272451857851]
[-0.086117237849980099, 0.265, 0.16391600208561058]
[0.086117237849980099, 0.265, 0.16391600208561058]
[0.086117237849980099, 0.265, 0.067034109504382947]
[-0.086117237849980099, 0.265, 0.067034109504382947]
Mirror radius: 0.262458435557
Dome y-coordinate: 0.145826365126
Dome z-coordinate: 0.314011178209
Dome radius: 0.612407877153
Animal y-coordinate: 0.0456084933385
Animal z-coordinate: 0.596216315476
Webcam theta: 0.3
screen_height, screen_width, distance_to_screen
1.04400984243 1.85601749766 3.0


11:44$ python dome_calibration.py test_images/WebCameras/Image40.jpg
Image pixels: [[500, 540], [500, 740]]
Photo pixels: [[161, 940], [172, 296]]
  status: 0
 success: True
    nfev: 176
     fun: -1.9996138789408291
       x: array([ 0.82854462,  0.02122282,  0.20732706,  0.03660762,  0.20993723,
        0.1369837 ,  0.30794867,  0.60148338,  0.06178464,  0.61226579])
 message: 'CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_<=_PGTOL'
     jac: array([  0.00000000e+00,   2.02060590e-06,  -4.44089210e-07,
         4.46309656e-06,   1.86517468e-06,  -6.12843110e-06,
        -2.35367281e-06,   5.32907052e-07,   6.92779167e-06,
         1.42108547e-06])
     nit: 11
[-0.08257162696145473, 0.436, 0.12950069685361648]
[0.08257162696145473, 0.436, 0.12950069685361648]
[0.08257162696145473, 0.436, 0.036607616521979913]
[-0.08257162696145473, 0.436, 0.036607616521979913]
[-0.11854141857232517, 0.265, 0.17666862735213454]
[0.11854141857232517, 0.265, 0.17666862735213454]
[0.11854141857232517, 0.265, 0.04330953145826872]
[-0.11854141857232517, 0.265, 0.04330953145826872]
Mirror radius: 0.209937231807
Dome y-coordinate: 0.136983696218
Dome z-coordinate: 0.30794866649
Dome radius: 0.601483379782
Animal y-coordinate: 0.0617846438494
Animal z-coordinate: 0.612265794461
Webcam theta: 0.6
screen_height, screen_width, distance_to_screen
2.30896172815 4.10482085005 3.0


April 22, 2015
I sent these to Reuben and Jian updated his code with them.

 first_projector_image = [[-0.0865, 0.436, 0.1217],
                                          [ 0.0865, 0.436, 0.1217],
                                          [ 0.0865, 0.436, 0.0244],
                                          [-0.0865, 0.436, 0.0244]],
                 second_projector_image = [[-0.1239, 0.265, 0.1816],
                                           [ 0.1239, 0.265, 0.1816],
                                           [ 0.1239, 0.265, 0.0421],
                                           [-0.1239, 0.265, 0.0421]],
                 mirror_radius = 0.236,
                 dome_center = [0, 0.077, 0.413],
                 dome_radius = 0.606,
                 animal_position = [0, 0.069, 0.558]



May 7, 2015
After changing minimization function from dot products to differences.  No
correction for camera distortion.

[-0.079743230900995304, 0.436, 0.1262816045022937]
[0.079743230900995304, 0.436, 0.1262816045022937]
[0.079743230900995304, 0.436, 0.036570469738673984]
[-0.079743230900995304, 0.436, 0.036570469738673984]
[-0.11565057526807646, 0.265, 0.1763269613830058]
[0.11565057526807646, 0.265, 0.1763269613830058]
[0.11565057526807646, 0.265, 0.046220064206419775]
[-0.11565057526807646, 0.265, 0.046220064206419775]
Mirror radius: 0.223976861012
Dome y-coordinate: 0.122412934131
Dome z-coordinate: 0.445526556667
Dome radius: 0.567217107224
Animal y-coordinate: 0.0337301098041
Animal z-coordinate: 0.569733624216
Webcam theta: 0.5
screen_height, screen_width, distance_to_screen
1.84377090322 3.27781493906 3.0



With correction for camera distortion.

-0.084150859924124063, 0.436, 0.13257525411086873]
[0.084150859924124063, 0.436, 0.13257525411086873]
[0.084150859924124063, 0.436, 0.037905536696229161]
[-0.084150859924124063, 0.436, 0.037905536696229161]
[-0.12086588745941761, 0.265, 0.18499168500027227]
[0.12086588745941761, 0.265, 0.18499168500027227]
[0.12086588745941761, 0.265, 0.049017561608427455]
[-0.12086588745941761, 0.265, 0.049017561608427455]
Mirror radius: 0.232202724044
Dome y-coordinate: 0.119590941332
Dome z-coordinate: 0.440983847034
Dome radius: 0.5659792827
Animal y-coordinate: 0.0350581086037
Animal z-coordinate: 0.575454676034
Webcam theta: 0.5
screen_height, screen_width, distance_to_screen
1.84377090322 3.27781493906 3.0


May 8, 2015 using new dome calibration image that uses the camera's full field
of view.  These parameters resulted in greatly reduced coverage on the dome. It
looks like the frustum is much wider than all previous estimates so the warping
compensates by making the warped image narrower which reduces the dome
coverage.

[-0.11334065995259603, 0.436, 0.028822832209199553]
[0.11334065995259603, 0.436, 0.028822832209199553]
[0.11334065995259603, 0.436, -0.098685410237470975]
[-0.11334065995259603, 0.436, -0.098685410237470975]
[-0.16100098231198018, 0.265, 0.15904830698551786]
[0.16100098231198018, 0.265, 0.15904830698551786]
[0.16100098231198018, 0.265, -0.022077798115459846]
[-0.16100098231198018, 0.265, -0.022077798115459846]
Mirror radius: 0.212952521139
Dome y-coordinate: 0.209662846518
Dome z-coordinate: 0.438177046748
Dome radius: 0.514543517991
Animal y-coordinate: -0.222176153246
Animal z-coordinate: 0.619080796886
Webcam theta: 0.5
screen_height, screen_width, distance_to_screen
1.84377090322 3.27781493906 3.0


May 21, 2015
Got Image88 from Reuben and had to reduce the pixel threshold to do a better
job of finding the objects in the image.

[-0.077293523766795616, 0.436, 0.12695786668630732]
[0.077293523766795616, 0.436, 0.12695786668630732]
[0.077293523766795616, 0.436, 0.040002652448662239]
[-0.077293523766795616, 0.436, 0.040002652448662239]
[-0.11128510320434988, 0.265, 0.17814741611513812]
[0.11128510320434988, 0.265, 0.17814741611513812]
[0.11128510320434988, 0.265, 0.052951675010244503]
[-0.11128510320434988, 0.265, 0.052951675010244503]
Mirror radius: 0.229746313958
Dome y-coordinate: 0.126588923963
Dome z-coordinate: 0.331540809606
Dome radius: 0.604512701154
Animal y-coordinate: 0.0588533715468
Animal z-coordinate: 0.597661545615
Webcam theta: 0.5
screen_height, screen_width, distance_to_screen
1.84377090322 3.27781493906 3.0

